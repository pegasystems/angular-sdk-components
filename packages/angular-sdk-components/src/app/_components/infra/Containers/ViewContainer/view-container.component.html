<div class="psdk-view-container-top" id="{{ buildName$ }}">
  <div *ngIf="isViewContainer$; else isReference">
    <h3 *ngIf="title$ !== ''">{{ title$ }}</h3>
    <div *ngIf="templateName$; else showChildren">
      <app-component-mapper
        [type]="templateName$"
        [props]="{
          pConn$: createdViewPConn$,
          formGroup$: formGroup$,
          displayOnlyFA$: displayOnlyFA$
        }"
        errorMsg="View Container missing Template {{ templateName$ }}"
      ></app-component-mapper>
    </div>
    <ng-template #showChildren>
      <div *ngFor="let kid of arChildren$">
        <app-component-mapper
          [type]="kid.getPConnect().getComponentName()"
          [props]="{
            pConn$: kid.getPConnect(),
            displayOnlyFA$: displayOnlyFA$
          }"
          errorMsg="ViewContainer Missing (no template): {{ kid.getPConnect().getComponentName() }}"
        ></app-component-mapper>
      </div>
    </ng-template>
  </div>
  <ng-template #isReference>
    <app-view [pConn$]="viewPConn$" [displayOnlyFA$]="displayOnlyFA$"></app-view>
  </ng-template>
</div>

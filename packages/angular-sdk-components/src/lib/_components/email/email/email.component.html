<!-- <component-mapper name="SummaryItem" [props]="{ item$: item, menuIconOverride$, menuIconOverrideAction$ }"></component-mapper> -->
<mat-card class="email-card">
  <div class="mat-card-header">
    <app-email-summary-item [actions]="actions"></app-email-summary-item>
  </div>

    <!-- <div mat-card-avatar>
      <mat-icon>person</mat-icon>
    </div>
    <mat-card-title>
      <span>{{ email.from.fullName }}</span>
      <mat-icon *ngIf="email.sentiment">{{ email.sentiment.icon }}</mat-icon>
      <mat-chip *ngIf="email.status" [color]="email.status === 'draft' ? 'warn' : 'primary'">{{ email.status }}</mat-chip>
    </mat-card-title>
    <mat-card-subtitle>
      <span>{{ getEmailDisplayList(email.to.slice(0, 2), false) }}</span>
      <span *ngIf="email.to.length > 2">; +{{ email.to.length - 2 }} more</span>
      <span>{{ email.timeStamp | date: 'short' }}</span>
    </mat-card-subtitle>
    <button mat-icon-button [matMenuTriggerFor]="emailMoreInfoMenu" (click)="showEmailMoreInfo = !showEmailMoreInfo">
      <mat-icon>arrow-micro-down</mat-icon>
    </button>
    <mat-menu #emailMoreInfoMenu="matMenu">
      <ng-container *ngFor="let field of getEmailMoreInfoFields()">
        <button mat-menu-item>{{ field.name }}: {{ field.value }}</button>
      </ng-container>
    </mat-menu> -->

    <!-- <mat-card-header></mat-card-header> -->
  <mat-card-content>
    <div [innerHTML]="email.body"></div>
    <div *ngIf="email.trail">
      <button mat-button (click)="email.trail.onExpandCollapse(email.id)">
        <mat-icon>more-alt</mat-icon>
        {{ email.trail.expanded ? 'Collapse Trail' : 'Expand Trail' }}
      </button>
      <div *ngIf="email.trail.expanded">
        <div *ngIf="email.trail.content" [innerHTML]="email.trail.content"></div>
        <mat-progress-bar *ngIf="email.trail.loading" mode="indeterminate"></mat-progress-bar>
      </div>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button *ngFor="let action of getActions()" mat-icon-button (click)="action.onClick()">
      <!-- use image and path-->
      <img class="psdk-list-view-svg-icon" src="{{ action.icon }}" />
      <!-- <mat-icon>{{ action.icon }}</mat-icon> -->
    </button>
  </mat-card-actions>
</mat-card>

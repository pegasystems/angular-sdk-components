

<div *ngIf="displayMode$; else noDisplayMode">
  <component-mapper *ngIf="bVisible$ !== false" name="FieldValueList" [props]="{ label$, value$, displayMode$, isHtml$: true }"></component-mapper>
</div>

<ng-template #noDisplayMode>
  <div *ngIf="!bReadonly$; else noEdit">
    <div *ngIf="bVisible$">
      <!-- UPDATED: Uses configProps$ to pass the TinyMCE styles -->
      <component-mapper
        name="RichTextEditor"
        [props]="configProps$"
        [parent]="this"
        [outputEvents]="{ onBlur: fieldOnBlur, onChange: fieldOnChange }"
      ></component-mapper>
    </div>
  </div>
</ng-template>

<ng-template #noEdit>
  <div *ngIf="bVisible$ !== false">
    <!-- UPDATED: Uses configProps$ to ensure consistent styling even in read-only mode -->
    <component-mapper 
      name="RichTextEditor" 
      [props]="configProps$" 
      [parent]="this"
    ></component-mapper>
  </div>
</ng-template>
